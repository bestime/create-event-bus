{"version":3,"file":"index.js","sources":["../../src/main.ts"],"sourcesContent":["type TemplateFunc = (...args: any[]) => void\n\n// declare type EmitFn<\n// Options = ObjectEmitsOptions,\n// Event extends keyof Options = keyof Options> = Options extends Array<infer V> ? (event: V, ...args: any[]) => void : {} extends Options ?\n//  (event: string, ...args: any[]) => void : UnionToIntersection<{\n//   [key in Event]: Options[key] extends (...args: infer Args) => any ? (event: key, ...args: Args) => void : (event: key, ...args: any[]) => void;\n// }[Event]>;\n\n\n\n\nfunction createEventBus<Events extends Record<string, TemplateFunc>> () {\n\n\n  const eventRecords: Record<string, undefined | TemplateFunc[]> = {\n\n  }\n\n  function on <K extends keyof Events> (name: K, hander: Events[K]) {\n    const a = name\n    console.log(\"name\", name, eventRecords[name])\n  }\n\n  function emit<K extends keyof Events, V> (name: K, ...args: Parameters<Events[K]>) {\n    \n    console.log(\"通知\", name)\n  }\n\n  return {\n    on,\n    emit\n  }\n}\n\nconst bus = createEventBus<{\n  'test-A': (name: string, age: number) => void\n  'test-B': () => void\n}>()\n\nbus.on('test-A', () => {})\nbus.on('test-B', function () {\n  return ''\n})\n\nbus.emit('test-A', '你好', 5)\n\n\n\nexport default createEventBus as any"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA,SAAS,cAAc,GAAA;IAGrB,MAAM,YAAY,GAA+C,EAEhE,CAAA;AAED,IAAA,SAAS,EAAE,CAA2B,IAAO,EAAE,MAAiB,EAAA;AAE9D,QAAA,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC,CAAA;KAC9C;AAED,IAAA,SAAS,IAAI,CAA6B,IAAO,EAAE,GAAG,IAA2B,EAAA;AAE/E,QAAA,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;KACxB;IAED,OAAO;QACL,EAAE;QACF,IAAI;KACL,CAAA;AACH,CAAC;AAED,MAAM,GAAG,GAAG,cAAc,EAGtB,CAAA;AAEJ,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAK,GAAG,CAAC,CAAA;AAC1B,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAA;AACf,IAAA,OAAO,EAAE,CAAA;AACX,CAAC,CAAC,CAAA;AAEF,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;;;;;;;;"}